(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},4:function(e,t,a){e.exports=a.p+"static/media/logo.3e6893cd.svg"},5:function(e,t,a){e.exports=a.p+"static/media/profile-edit.d476a8b8.svg"},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),c=a.n(r),i=(a(13),a(1));var o=function(e){var t=e.isOpen?" popup_opened":"";return l.a.createElement("div",{className:"popup popup_type_".concat(e.name," ").concat(t)},l.a.createElement("button",{"aria-label":"close popup",className:"popup__close popup__close_place_profile button button_opacity_m",onClick:e.close}),l.a.createElement("div",{className:"popup__container"},l.a.createElement("h2",{className:"popup__title"},e.title),l.a.createElement("form",{action:"#",className:"popup__form popup__form_type_".concat(e.name),name:e.formName},l.a.createElement("fieldset",{className:"popup__form-set"},e.children,l.a.createElement("button",{type:"submit",className:"popup__submit-btn button button_opacity_h popup__submit-btn_place_".concat(e.name)},e.lable)))))};var p=function(e){var t=e.selectedCard.isCardOpen?" popup_opened":"";return l.a.createElement("div",{className:"popup popup_type_img ".concat(t),onClick:e.click},l.a.createElement("div",{className:"popup__img-container"},l.a.createElement("button",{"aria-label":"close popup",className:"popup__close popup__close_place_img button button_opacity_m",onClick:e.close}),l.a.createElement("img",{src:e.selectedCard.link,alt:"popup img",className:"popup__img"}),l.a.createElement("p",{className:"popup__img-title"},e.selectedCard.title)))},u=a(4),s=a.n(u);var m=function(){return l.a.createElement("header",{className:"header"},l.a.createElement("img",{src:s.a,alt:"Around The U.S. logo",className:"header__logo"}))};var _=function(e){return l.a.createElement("div",{id:e.card.id},l.a.createElement("li",{className:"gallery__item"},l.a.createElement("button",{"aria-label":"trash button",type:"button",className:"gallery__item-trash-btn button button_clear"}),l.a.createElement("img",{src:e.card.link,className:"gallery__item-img",onClick:function(){return e.click({link:e.card.link,name:e.card.name})},alt:e.card.name}),l.a.createElement("div",{className:"gallery__item-footer"},l.a.createElement("h2",{className:"gallery__item-name"},e.card.name),l.a.createElement("div",{className:"gllery__like"},l.a.createElement("button",{"aria-label":"like button",type:"button",className:"gallery__like-btn button button_clear"}),l.a.createElement("p",{className:"gllery__like-count"},e.card.likes.length)))))},d=a(5),b=a.n(d),f=a(6),E=a(7),N=new(function(){function e(t){var a=this;Object(f.a)(this,e),this.getInitialCards=function(){return a._call("/cards","GET")},this.getUserData=function(){return a._call("/users/me","GET")},this.addLike=function(e){return a._call("/cards/likes/".concat(e),"PUT")},this.deleteLike=function(e){return a._call("/cards/likes/".concat(e),"DELETE")},this.deleteCard=function(e){return a._call("/cards/".concat(e),"DELETE")},this._options=t}return Object(E.a)(e,[{key:"_call",value:function(e,t,a){return fetch(this._options.baseUrl+e,{method:t,headers:this._options.headers,body:JSON.stringify(a)}).then(function(e){return e.ok?e.json():Promise.reject(e.status)})}},{key:"editProfile",value:function(e){var t=e.name,a=e.about;return this._call("/users/me","PATCH",{name:t,about:a})}},{key:"createNewCard",value:function(e,t){return this._call("/cards","POST",{name:t,link:e})}},{key:"editProfileAvatar",value:function(e){return this._call("/users/me/avatar ","PATCH",{avatar:e})}},{key:"init",value:function(){return Promise.all([this.getUserData(),this.getInitialCards()])}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"9b621f0f-5dfe-43f1-95fd-e9cc188bcc35","Content-Type":"application/json"}});var v=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),p=Object(i.a)(o,2),u=p[0],s=p[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),f=d[0],E=d[1],v=Object(n.useState)([]),g=Object(i.a)(v,2),h=g[0],k=g[1];return Object(n.useEffect)(function(){N.init().then(function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];c(a.name),s(a.about),E(a.avatar),k(n)}).catch(function(e){console.log(e)})},[]),l.a.createElement("main",{className:"content"},l.a.createElement("section",{className:"profile"},l.a.createElement("p",{className:"profile__error"}),l.a.createElement("div",{className:"profile__info"},l.a.createElement("div",{className:"profile__img"},l.a.createElement("img",{className:"profile__avatar",src:f,alt:"avatar"}),l.a.createElement("img",{className:"profile__edit-avatar",src:b.a,alt:"edit profile",onClick:e.onEditAvatarClick})),l.a.createElement("div",{className:"profile__text"},l.a.createElement("h1",{className:"profile__name"},r),l.a.createElement("p",{className:"profile__about-me"},u),l.a.createElement("button",{"aria-label":"edit profile",type:"button",className:"profile__edit-btn button button_clear button_open button_opacity_m button_border_sm",onClick:e.onEditProfileClick}))),l.a.createElement("button",{"aria-label":"add profile",type:"button",className:"profile__add-btn button button_clear button_open button_opacity_m button_border_m",onClick:e.onAddPlaceClick})),l.a.createElement("section",{className:"gallery"},l.a.createElement("ul",{className:"gallery__list"},h.map(function(t){return l.a.createElement(_,{card:t,key:t._id,click:e.onCardClick})}))))};var g=function(){var e=(new Date).getFullYear();return l.a.createElement("footer",{className:"footer"},l.a.createElement("p",{className:"footer__author"},"\xa9 ",e," Around The U.S."))};var h=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),s=u[0],_=u[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),f=b[0],E=b[1],N=Object(n.useState)({}),h=Object(i.a)(N,2),k=h[0],y=h[1],C=function(){E(!1),r(!1),_(!1),y({isCardOpen:!1,link:""})};return l.a.createElement("div",{className:"app"},l.a.createElement(o,{title:"Edit profile",name:"profile",lable:"Save",isOpen:a,close:C,formName:"profileForm"},l.a.createElement("input",{id:"profile-name-input",required:!0,className:"popup__input popup__input-text popup__input-text_type_name",type:"text",placeholder:"Name",name:"profileName",minLength:"2",maxLength:"40"}),l.a.createElement("span",{className:"popup__input-error profile-name-input-error"}),l.a.createElement("input",{id:"profile-about-me-input",required:!0,className:"popup__input popup__input-text popup__input-text_type_about-me",type:"text",placeholder:"About me",name:"profileAboutMe",minLength:"2",maxLength:"400"}),l.a.createElement("span",{className:"popup__input-error profile-about-me-input-error"})),l.a.createElement(o,{title:"Change profile picture",name:"avatar",lable:"Save",isOpen:f,close:C,formName:"avatarForm"},l.a.createElement("input",{id:"avatar-link-input",className:"popup__input popup__input-text popup__input-text_type_avatar-link",required:!0,type:"url",placeholder:"Avatar link",name:"avatarImageLink"}),l.a.createElement("span",{className:"popup__input-error avatar-link-input-error"})),l.a.createElement(o,{title:"New place",name:"new-card",lable:"Save",isOpen:s,close:C,formName:"newCardForm"},l.a.createElement("input",{id:"card-title-input",className:"popup__input popup__input-text popup__input-text_type_title",required:!0,type:"text",placeholder:"Title",name:"placeName",minLength:"2",maxLength:"30"}),l.a.createElement("span",{className:"popup__input-error card-title-input-error"}),l.a.createElement("input",{id:"card-link-input",className:"popup__input popup__input-text popup__input-text_type_Image-link",required:!0,type:"url",placeholder:"Image link",name:"placeImageLink"}),l.a.createElement("span",{className:"popup__input-error card-link-input-error"})),l.a.createElement(o,{title:"Are you sure?",name:"delete",lable:"Yes",isOpen:!1,close:C,formName:"deleteForm"}),l.a.createElement(p,{selectedCard:k,close:C}),l.a.createElement(m,null),l.a.createElement(v,{onEditProfileClick:function(){r(!0)},onAddPlaceClick:function(){_(!0)},onEditAvatarClick:function(){E(!0)},onCardClick:function(e){var t=e.link,a=e.name;y({isCardOpen:!0,link:t,title:a})},isEditProfilePopupOpen:a,isAddPlacePopupOpen:s,isEditAvatarPopupOpen:f,selectedCard:k}),l.a.createElement(g,null))},k=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,68)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),l(e),r(e),c(e)})};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h,null)),document.getElementById("root")),k()},8:function(e,t,a){e.exports=a(67)}},[[8,3,2]]]);
//# sourceMappingURL=main.a200820c.chunk.js.map